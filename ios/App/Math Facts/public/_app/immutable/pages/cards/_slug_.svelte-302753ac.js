import{P as ce,S as ie,i as ue,s as pe,w as te,a as N,l as _,r as $,x as ae,c as P,m as d,n as q,h as m,u as S,p as E,y as le,b as B,J as p,L as me,f as R,d as fe,v as x,t as L,B as ne,Q as ge,R as _e,g as de}from"../../chunks/index-5a28f8a6.js";import{c as he}from"../../chunks/cards-cfb8b914.js";import be from"./CardAnswer.svelte-16c0ddce.js";import ve from"./CardQuestion.svelte-36613058.js";import{g as De}from"../../chunks/navigation-75a744b1.js";import"../../chunks/index-e45dfa94.js";import"../../chunks/singletons-eca981c1.js";const ke=()=>{const s=ce("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session,updated:s.updated}},we={subscribe(s){return ke().page.subscribe(s)}};function se(s,a,n){const r=s.slice();return r[7]=a[n],r[9]=n,r}function re(s){let a,n;return a=new be({props:{answerValue:s[7],mode:s[2].params.slug,displayMode:s[1]}}),a.$on("answerSelectedMessage",s[3]),{c(){te(a.$$.fragment)},l(r){ae(a.$$.fragment,r)},m(r,c){le(a,r,c),n=!0},p(r,c){const o={};c&5&&(o.answerValue=r[7]),c&4&&(o.mode=r[2].params.slug),c&2&&(o.displayMode=r[1]),a.$set(o)},i(r){n||(R(a.$$.fragment,r),n=!0)},o(r){L(a.$$.fragment,r),n=!1},d(r){ne(a,r)}}}function $e(s){let a,n,r,c,o,h,C,V,f,u,O,j,A=s[0].Decks[s[2].params.slug].correct+"",y,z,v,F,G,I=390-s[0].Decks[s[2].params.slug].cards.length+"",H,K,D,W,X,M=s[0].Decks[s[2].params.slug].missed+"",Q,k,Y,ee;a=new ve({props:{terms:s[0].Decks[s[2].params.slug].current().terms(),operator:s[0].Decks[s[2].params.slug].operator}});let w=s[0].Decks[s[2].params.slug].current().answers(),l=[];for(let e=0;e<w.length;e+=1)l[e]=re(se(s,w,e));const oe=e=>L(l[e],1,1,()=>{l[e]=null});return{c(){te(a.$$.fragment),n=N(),r=_("div");for(let e=0;e<l.length;e+=1)l[e].c();c=N(),o=_("div"),h=_("button"),C=$("Home"),V=N(),f=_("div"),u=_("span"),O=$("Correct: "),j=_("br"),y=$(A),z=N(),v=_("span"),F=$("Speed: "),G=_("br"),H=$(I),K=N(),D=_("span"),W=$("Incorrect: "),X=_("br"),Q=$(M),this.h()},l(e){ae(a.$$.fragment,e),n=P(e),r=d(e,"DIV",{class:!0});var t=q(r);for(let Z=0;Z<l.length;Z+=1)l[Z].l(t);t.forEach(m),c=P(e),o=d(e,"DIV",{class:!0});var g=q(o);h=d(g,"BUTTON",{class:!0});var i=q(h);C=S(i,"Home"),i.forEach(m),g.forEach(m),V=P(e),f=d(e,"DIV",{class:!0});var b=q(f);u=d(b,"SPAN",{class:!0});var T=q(u);O=S(T,"Correct: "),j=d(T,"BR",{}),y=S(T,A),T.forEach(m),z=P(b),v=d(b,"SPAN",{class:!0});var U=q(v);F=S(U,"Speed: "),G=d(U,"BR",{}),H=S(U,I),U.forEach(m),K=P(b),D=d(b,"SPAN",{class:!0});var J=q(D);W=S(J,"Incorrect: "),X=d(J,"BR",{}),Q=S(J,M),J.forEach(m),b.forEach(m),this.h()},h(){E(r,"class","answers svelte-7iprqt"),E(h,"class","home svelte-7iprqt"),E(o,"class","control svelte-7iprqt"),E(u,"class","correct svelte-7iprqt"),E(v,"class","speed svelte-7iprqt"),E(D,"class","missed svelte-7iprqt"),E(f,"class","scores svelte-7iprqt")},m(e,t){le(a,e,t),B(e,n,t),B(e,r,t);for(let g=0;g<l.length;g+=1)l[g].m(r,null);B(e,c,t),B(e,o,t),p(o,h),p(h,C),B(e,V,t),B(e,f,t),p(f,u),p(u,O),p(u,j),p(u,y),p(f,z),p(f,v),p(v,F),p(v,G),p(v,H),p(f,K),p(f,D),p(D,W),p(D,X),p(D,Q),k=!0,Y||(ee=me(h,"click",s[5]),Y=!0)},p(e,[t]){const g={};if(t&5&&(g.terms=e[0].Decks[e[2].params.slug].current().terms()),t&5&&(g.operator=e[0].Decks[e[2].params.slug].operator),a.$set(g),t&15){w=e[0].Decks[e[2].params.slug].current().answers();let i;for(i=0;i<w.length;i+=1){const b=se(e,w,i);l[i]?(l[i].p(b,t),R(l[i],1)):(l[i]=re(b),l[i].c(),R(l[i],1),l[i].m(r,null))}for(de(),i=w.length;i<l.length;i+=1)oe(i);fe()}(!k||t&5)&&A!==(A=e[0].Decks[e[2].params.slug].correct+"")&&x(y,A),(!k||t&5)&&I!==(I=390-e[0].Decks[e[2].params.slug].cards.length+"")&&x(H,I),(!k||t&5)&&M!==(M=e[0].Decks[e[2].params.slug].missed+"")&&x(Q,M)},i(e){if(!k){R(a.$$.fragment,e);for(let t=0;t<w.length;t+=1)R(l[t]);k=!0}},o(e){L(a.$$.fragment,e),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)L(l[t]);k=!1},d(e){ne(a,e),e&&m(n),e&&m(r),ge(l,e),e&&m(c),e&&m(o),e&&m(V),e&&m(f),Y=!1,ee()}}}function qe(s,a,n){let r;_e(s,we,u=>n(2,r=u));let c,o={},h=()=>{n(1,o={}),c.Decks[r.params.slug].current().answers().forEach(u=>{n(1,o["e"+u]="",o)})},C=u=>{n(1,o["e"+u.detail.answerValue]="highlighted",o)};return he.subscribe(u=>{n(0,c=u),h()}),[c,o,r,C,!1,()=>{n(0,c.Decks[r.params.slug].correct=0,c),n(0,c.Decks[r.params.slug].incorrect=0,c),De("/")}]}class Me extends ie{constructor(a){super(),ue(this,a,qe,$e,pe,{prerender:4})}get prerender(){return this.$$.ctx[4]}}export{Me as default};
